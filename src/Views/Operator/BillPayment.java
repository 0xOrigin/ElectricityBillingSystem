package Views.Operator;

import Controllers.Interface.Controller;
import Models.Enum.Column;
import Models.Enum.GovernmentCode;
import Views.View;
import Views.ViewsHelper;
import java.util.Map;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import Controllers.Interface.CustomerController;

/**
 *
 * @author xorigin
 */
public class BillPayment extends javax.swing.JFrame implements View {

    

    /**
     * Creates new form BillPayment
     *
     * @param previousFrame
     * @param controller
     * @param bill
     */
    public BillPayment(javax.swing.JFrame previousFrame, Controller controller, Map<Enum, Object> bill) {

        this.setPreviousFrame(previousFrame);
        this.setController(controller);
        
        this.bill = bill;
        
        initComponents();
        this.setSpecialSettings();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        BackButton = new javax.swing.JButton();
        PayBill = new javax.swing.JButton();
        MeterCodeLabel = new javax.swing.JLabel();
        MeterCodeField = new javax.swing.JLabel();
        TotalValueLabel = new javax.swing.JLabel();
        BillNumberLabel = new javax.swing.JLabel();
        TariffField = new javax.swing.JLabel();
        BillNumberField = new javax.swing.JLabel();
        CurrentReadingLabel = new javax.swing.JLabel();
        TariffLabel = new javax.swing.JLabel();
        LastReadingField = new javax.swing.JLabel();
        StatusLabel = new javax.swing.JLabel();
        ConsumptionField = new javax.swing.JLabel();
        CurrentReadingField = new javax.swing.JLabel();
        ConsumptionLabel = new javax.swing.JLabel();
        TotalValueField = new javax.swing.JLabel();
        ReleaseDateField = new javax.swing.JLabel();
        ReleaseDateLabel = new javax.swing.JLabel();
        GovernorateLabel = new javax.swing.JLabel();
        GovernorateField = new javax.swing.JLabel();
        LastReadingLabel = new javax.swing.JLabel();
        StatusField = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Bill Payment");
        setResizable(false);

        BackButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Icon/BackIcon.png"))); // NOI18N
        BackButton.setToolTipText("Back");
        BackButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BackButtonActionPerformed(evt);
            }
        });

        PayBill.setText("Pay ");
        PayBill.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                PayBillActionPerformed(evt);
            }
        });

        MeterCodeLabel.setFont(new java.awt.Font("Arial", 0, 15)); // NOI18N
        MeterCodeLabel.setText("Meter Code:");

        MeterCodeField.setFont(new java.awt.Font("Chandas", 1, 15)); // NOI18N
        MeterCodeField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        MeterCodeField.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                MeterCodeFieldAncestorAdded(evt);
            }
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        TotalValueLabel.setFont(new java.awt.Font("Arial", 0, 15)); // NOI18N
        TotalValueLabel.setText("Total Value:");

        BillNumberLabel.setFont(new java.awt.Font("Arial", 0, 15)); // NOI18N
        BillNumberLabel.setText("Bill number:");

        TariffField.setFont(new java.awt.Font("Chandas", 1, 14)); // NOI18N
        TariffField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        TariffField.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                TariffFieldAncestorAdded(evt);
            }
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        BillNumberField.setFont(new java.awt.Font("Chandas", 1, 14)); // NOI18N
        BillNumberField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        BillNumberField.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                BillNumberFieldAncestorAdded(evt);
            }
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        CurrentReadingLabel.setFont(new java.awt.Font("Arial", 0, 15)); // NOI18N
        CurrentReadingLabel.setText("Current reading:");

        TariffLabel.setFont(new java.awt.Font("Arial", 0, 15)); // NOI18N
        TariffLabel.setText("Tariff:");

        LastReadingField.setFont(new java.awt.Font("Chandas", 1, 14)); // NOI18N
        LastReadingField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        LastReadingField.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                LastReadingFieldAncestorAdded(evt);
            }
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        StatusLabel.setFont(new java.awt.Font("Arial", 0, 15)); // NOI18N
        StatusLabel.setText("Status:");

        ConsumptionField.setFont(new java.awt.Font("Chandas", 1, 14)); // NOI18N
        ConsumptionField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        ConsumptionField.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                ConsumptionFieldAncestorAdded(evt);
            }
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        CurrentReadingField.setFont(new java.awt.Font("Chandas", 1, 14)); // NOI18N
        CurrentReadingField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        CurrentReadingField.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                CurrentReadingFieldAncestorAdded(evt);
            }
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        ConsumptionLabel.setFont(new java.awt.Font("Arial", 0, 15)); // NOI18N
        ConsumptionLabel.setText("Consumption:");

        TotalValueField.setFont(new java.awt.Font("Chandas", 1, 14)); // NOI18N
        TotalValueField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        TotalValueField.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                TotalValueFieldAncestorAdded(evt);
            }
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        ReleaseDateField.setFont(new java.awt.Font("Chandas", 1, 14)); // NOI18N
        ReleaseDateField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        ReleaseDateField.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                ReleaseDateFieldAncestorAdded(evt);
            }
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        ReleaseDateLabel.setFont(new java.awt.Font("Arial", 0, 15)); // NOI18N
        ReleaseDateLabel.setText("Release Date:");

        GovernorateLabel.setFont(new java.awt.Font("Arial", 0, 15)); // NOI18N
        GovernorateLabel.setText("Governorate:");

        GovernorateField.setFont(new java.awt.Font("Chandas", 1, 14)); // NOI18N
        GovernorateField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        GovernorateField.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                GovernorateFieldAncestorAdded(evt);
            }
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        LastReadingLabel.setFont(new java.awt.Font("Arial", 0, 15)); // NOI18N
        LastReadingLabel.setText("Last reading:");

        StatusField.setFont(new java.awt.Font("Chandas", 1, 14)); // NOI18N
        StatusField.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        StatusField.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                StatusFieldAncestorAdded(evt);
            }
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(BackButton, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(76, 76, 76))
            .addGroup(layout.createSequentialGroup()
                .addGap(80, 80, 80)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(ReleaseDateLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(TotalValueLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(StatusLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(StatusField, javax.swing.GroupLayout.DEFAULT_SIZE, 147, Short.MAX_VALUE))
                            .addGroup(layout.createSequentialGroup()
                                .addGap(6, 6, 6)
                                .addComponent(TotalValueField, javax.swing.GroupLayout.PREFERRED_SIZE, 144, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(0, 0, Short.MAX_VALUE))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(ReleaseDateField, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(MeterCodeLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(GovernorateLabel, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                .addGap(2, 2, 2)
                                .addComponent(BillNumberLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 103, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(TariffLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(ConsumptionLabel, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(CurrentReadingLabel, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(LastReadingLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(ConsumptionField, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(CurrentReadingField, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(MeterCodeField, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(BillNumberField, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(TariffField, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(GovernorateField, javax.swing.GroupLayout.DEFAULT_SIZE, 144, Short.MAX_VALUE)
                            .addComponent(LastReadingField, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(0, 3, Short.MAX_VALUE))
                    .addComponent(PayBill, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(80, 80, 80))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addComponent(BackButton)
                .addGap(11, 11, 11)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(MeterCodeLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(MeterCodeField, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(GovernorateLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(GovernorateField, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(BillNumberLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(BillNumberField, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(TariffField, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(TariffLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(LastReadingField, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(8, 8, 8)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(CurrentReadingField, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(CurrentReadingLabel, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(8, 8, 8)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(ConsumptionField, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(ConsumptionLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(8, 8, 8)
                                .addComponent(TotalValueField, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(TotalValueLabel, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(StatusLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(StatusField, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(ReleaseDateField, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(ReleaseDateLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(LastReadingLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(PayBill, javax.swing.GroupLayout.DEFAULT_SIZE, 36, Short.MAX_VALUE)
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents


    private void BackButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BackButtonActionPerformed

        this.dispose();
        this.previousFrame.revalidate();
        this.previousFrame.setVisible(true);
    }//GEN-LAST:event_BackButtonActionPerformed

    private void PayBillActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_PayBillActionPerformed

        int exitTheProcess = JOptionPane.showConfirmDialog(null, "\t Are you sure to pay bill No." + this.bill.get(Column.Num) + "\t\n" + "\t Total value = " + String.format("%.2f", bill.get(Column.MoneyValue)), "Pay Bill", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE);

        if (exitTheProcess != JOptionPane.YES_OPTION) {
            return;
        }

        this.controller.payBill(this.controller.getMeterCode());
        this.controller.collectPayment(String.format("%.2f", bill.get(Column.MoneyValue)));
        
        JOptionPane.showMessageDialog(null, "\t Bill No." + this.bill.get(Column.Num) + " have been successfully Paid! \t");
        BackButtonActionPerformed(null);
    }//GEN-LAST:event_PayBillActionPerformed

    private void MeterCodeFieldAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_MeterCodeFieldAncestorAdded
        this.MeterCodeField.setText(this.controller.getMeterCode());
    }//GEN-LAST:event_MeterCodeFieldAncestorAdded

    private void TariffFieldAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_TariffFieldAncestorAdded
        this.TariffField.setText(String.valueOf(bill.get(Column.Tariff)));
    }//GEN-LAST:event_TariffFieldAncestorAdded

    private void BillNumberFieldAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_BillNumberFieldAncestorAdded
        this.BillNumberField.setText(String.valueOf(this.bill.get(Column.Num)));
    }//GEN-LAST:event_BillNumberFieldAncestorAdded

    private void LastReadingFieldAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_LastReadingFieldAncestorAdded
        this.LastReadingField.setText(String.valueOf(bill.get(Column.LastReading)));
    }//GEN-LAST:event_LastReadingFieldAncestorAdded

    private void ConsumptionFieldAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_ConsumptionFieldAncestorAdded
        this.ConsumptionField.setText(String.valueOf(bill.get(Column.Consumption)));
    }//GEN-LAST:event_ConsumptionFieldAncestorAdded

    private void CurrentReadingFieldAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_CurrentReadingFieldAncestorAdded
        this.CurrentReadingField.setText(String.valueOf(bill.get(Column.CurrentReading)));
    }//GEN-LAST:event_CurrentReadingFieldAncestorAdded

    private void TotalValueFieldAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_TotalValueFieldAncestorAdded
        this.TotalValueField.setText(String.format("%.2f", bill.get(Column.MoneyValue)));
    }//GEN-LAST:event_TotalValueFieldAncestorAdded

    private void ReleaseDateFieldAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_ReleaseDateFieldAncestorAdded
        this.ReleaseDateField.setText(String.valueOf(bill.get(Column.ReleaseDate)));
    }//GEN-LAST:event_ReleaseDateFieldAncestorAdded

    private void GovernorateFieldAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_GovernorateFieldAncestorAdded
        
        String governorate = ViewsHelper.getStringValueFromEnumStringValue(GovernmentCode.getEnumNameForValue(bill.get(Column.GovernmentCode)));
        this.GovernorateField.setText(governorate);
    }//GEN-LAST:event_GovernorateFieldAncestorAdded

    private void StatusFieldAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_StatusFieldAncestorAdded
        this.StatusField.setText(String.valueOf(bill.get(Column.Status)));
    }//GEN-LAST:event_StatusFieldAncestorAdded
    @Override
    public final void setSpecialSettings() {

        this.setLocationRelativeTo(null);
        this.setVisible(true);
    }

    @Override
    public final void setController(Controller controller) {

        this.controller = (CustomerController) controller;
    }

    @Override
    public final void setPreviousFrame(JFrame previousFrame) {

        this.previousFrame = previousFrame;
    }

    @Override
    public javax.swing.JFrame getPreviousFrame() {

        return this.previousFrame;
    }

    int selectedBill = 0;
    private final Map<Enum, Object> bill;
    DefaultTableModel tableModel;
    private CustomerController controller;
    private javax.swing.JFrame previousFrame;

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton BackButton;
    private javax.swing.JLabel BillNumberField;
    private javax.swing.JLabel BillNumberLabel;
    private javax.swing.JLabel ConsumptionField;
    private javax.swing.JLabel ConsumptionLabel;
    private javax.swing.JLabel CurrentReadingField;
    private javax.swing.JLabel CurrentReadingLabel;
    private javax.swing.JLabel GovernorateField;
    private javax.swing.JLabel GovernorateLabel;
    private javax.swing.JLabel LastReadingField;
    private javax.swing.JLabel LastReadingLabel;
    private javax.swing.JLabel MeterCodeField;
    private javax.swing.JLabel MeterCodeLabel;
    private javax.swing.JButton PayBill;
    private javax.swing.JLabel ReleaseDateField;
    private javax.swing.JLabel ReleaseDateLabel;
    private javax.swing.JLabel StatusField;
    private javax.swing.JLabel StatusLabel;
    private javax.swing.JLabel TariffField;
    private javax.swing.JLabel TariffLabel;
    private javax.swing.JLabel TotalValueField;
    private javax.swing.JLabel TotalValueLabel;
    // End of variables declaration//GEN-END:variables

}
